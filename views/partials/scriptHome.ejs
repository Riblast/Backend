<script>

    let id = ''

    document.querySelectorAll(".product").forEach(
        row => {row.addEventListener("click", e => {
            id = e.currentTarget.getAttribute("id")
        })
    })

    const btnGuardar = document.getElementById('btnGuardar')

    btnGuardar.addEventListener('click' , async e => {

        const cantidad = document.getElementById("inputCantidad").value || '1'

        const producto = {
            id: id,
            cantidad: cantidad
        }

        let response = await fetch('/cart/addProduct', {
            method: 'POST',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json ; charset=utf-8' },
            body: JSON.stringify({producto: producto})
        })
        let responsedata = await response.json
    })

    // Obtener el elemento select y el botón de aplicar filtro
const categoryFilter = document.getElementById('category-filter')
const applyFilterButton = document.getElementById('apply-filter')

// Agregar un evento al botón de aplicar filtro
applyFilterButton.addEventListener('click', () => {
  // Obtener el valor seleccionado en el elemento select
    const selectedCategory = categoryFilter.value

  // Redirigir al usuario a la página que muestra los productos filtrados por categoría
    window.location.href = `/productos/category/${selectedCategory}`
});


</script>
